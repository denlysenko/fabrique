!function(a){validator.extend("isNonEmpty",function(a){return""!==a}),a.validate=function(b){var c=a(b),d=c.attr("name");c.closest("form");if("name"===d||"last-name"===d||"category"===d){var e=c.attr("placeholder");if(c.tooltip({title:e+" should contain letters",placement:"right",trigger:"manual"}),!validator.isAlpha(c.val()))return c.closest("div").addClass("has-errors"),c.tooltip("show"),!1}if("title"===d||"description"===d||"info"===d||"feature"===d||"characteristic"===d||"slogan"===d||"address"===d){var e=c.attr("placeholder");if(c.tooltip({title:e+" should contain letters",placement:"right",trigger:"manual"}),!validator.isNonEmpty(c.val()))return c.closest("div").addClass("has-errors"),c.tooltip("show"),!1}if("code"===d){var e=c.attr("placeholder");if(c.tooltip({title:e+" should contain letters or numbers",placement:"right",trigger:"manual"}),!validator.isAlphanumeric(c.val()))return c.closest("div").addClass("has-errors"),c.tooltip("show"),!1}if("login"===d){var e=c.attr("placeholder");if(c.tooltip({title:e+" should contain letters or numbers",placement:"right",trigger:"manual"}),!validator.isAlphanumeric(c.val()))return c.closest("div").addClass("has-errors"),c.tooltip("show"),!1}if("email"===d){var e="Type correct e-mail";if(c.tooltip({title:e,placement:"right",trigger:"manual"}),!validator.isEmail(c.val()))return c.closest("div").addClass("has-errors"),c.tooltip("show"),!1}if("tel-num"===d){var e="Type phone number as (xxx) xxx xxxx";if(c.tooltip({title:e,placement:"right",trigger:"manual"}),!validator.matches(c.val(),/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/))return c.closest("div").addClass("has-errors"),c.tooltip("show"),!1}if("acc-number"===d&&a('[name="acc-number"]').val()||"discount-num"===d){var e="Type acc number as xxxxxxxx";if(c.tooltip({title:e,placement:"right",trigger:"manual"}),!validator.matches(c.val(),/\d{8}/))return c.closest("div").addClass("has-errors"),c.tooltip("show"),!1}if("discount"===d){var e="Discount should be in the range 1 - 99";if(c.tooltip({title:e,placement:"right",trigger:"manual"}),!validator.isInt(c.val(),{min:1,max:99}))return c.closest("div").addClass("has-errors"),c.tooltip("show"),!1}if("passwd"===d){var e="Enter password";if(c.tooltip({title:e,placement:"right",trigger:"manual"}),!validator.matches(c.val(),/\S+/))return c.closest("div").addClass("has-errors"),c.tooltip("show"),!1}if("confirm"===d){var e="This field doesn't match password";if(c.tooltip({title:e,placement:"right",trigger:"manual"}),!validator.equals(c.val(),a('[name="passwd"]').val()))return c.closest("div").addClass("has-errors"),c.tooltip("show"),!1}if("pound-to-euro"===d||"pound-to-dollar"===d){var e="Type Exchange Rate as x.xx";if(c.tooltip({title:e,placement:"top",trigger:"manual"}),!validator.isFloat(c.val()))return c.closest("div").addClass("has-errors"),c.tooltip("show"),!1}if("price"===d){var e="Type Price as x.xx";if(c.tooltip({title:e,placement:"right",trigger:"manual"}),!validator.isFloat(c.val()))return c.closest("div").addClass("has-errors"),c.tooltip("show"),!1}return!0}}(jQuery),$(function(){return $(".select").each(function(){var a=$("span",this),b=$(this);$(this).on("click","a",function(){var c=$(this).text(),d=$("input",a);return d.val(c),b.removeClass("open"),b.trigger({type:"select",value:c}),!1}),$(this).on("keyup","input",function(a){13===a.which&&(b.removeClass("open"),$(this).blur(),b.trigger({type:"select",value:$(this).val()}))}),$(this).on("change","input",function(){b.trigger({type:"select",value:$(this).val()})})})}),$(function(){$(".cart").tablesorter({headers:{0:{sorter:!1},5:{sorter:!1}}}),$(".history").tablesorter({headers:{5:{sorter:!1}}}),$("#reviews table, .edit").tablesorter({headers:{4:{sorter:!1}}}),$('[data-toggle="tooltip"]').tooltip({title:"Click to check your discount"}),$(".modal").modal({show:!1});var a;$(".photo-mini .thumbnail").hover(function(){a=$("<div>").addClass("thumbnail-hover"),$(this).append(a)},function(){a.remove()}),$(".photo-mini").on("click",'[data-toggle="lightbox"]',function(a){a.preventDefault(),$(this).ekkoLightbox()}),$(".disabled").keydown(!1)}),$(function(){var a=$(".photo-list li");a.hover(function(){$(this).find(".hover").slideDown("fast")},function(){$(this).find(".hover").slideUp("fast")})}),$(function(){$(".new-field").on("click",function(){var a=$(this),b=a.closest(".form-group"),c=b.find(".fields").eq(0).clone(),d=c.find(":disabled");c.find("input, textarea").val(""),d.length&&d.removeAttr("disabled"),c.insertBefore(a)})}),$(function(){function a(){var a=$(".content").find(".total-order .pr"),b=$(".content").find(".subtotal"),c=0;b.each(function(){var a=+$(this).find(".pr").text();c+=a}),a.text(c.toFixed(2))}a();var b=+$(".total .pr").text();$(".product-description").on("select",".select",function(a){var c=$(this).closest(".quantity").find(".total"),d=c.find(".pr"),e=+a.value.slice(9);d.text((b*e).toFixed(2))}),$(".cart").on("select",".select",function(b){var c=$(this).closest(".quantity"),d=+c.siblings(".unit-price").find(".pr").text(),e=+b.value,f=c.siblings(".subtotal").find(".pr");f.text((d*e).toFixed(2)),a()})}),function(a){"use strict";var b={init:function(){this.addListeners()},addListeners:function(){a('[data-action="cancel-account"]').on("click",this.cancelAccount),a('[data-action="generate-password"]').on("click",this.generatePassword),a(".user").on("submit",this.submitForm),a(".restrict").on("click",this.restrict)},submitForm:function(){var b=a(this),c=b.attr("action"),d=a(".helper"),e=a(":submit");d.html("").removeClass("bg-danger bg-success"),a(this).on("keypress","input, textarea",function(){a(this).tooltip("destroy"),a(this).closest("div").removeClass("has-errors")});var f,g=b.find('input:not([type="checkbox"]), textarea'),h=g.length;for(f=0;h>f;f++){var i=g[f];if(!a.validate(i))return!1}return a.ajax({url:c,method:"POST",data:b.serialize(),complete:function(){e.text("Submit"),e.prop("disabled",!1)},statusCode:{200:function(a){d.html(a).addClass("bg-success"),"login"===b.attr("id")&&(window.location.href="/")},404:function(){d.html("User Not Found").addClass("bg-danger")},403:function(b){var c=JSON.parse(b.responseText);a(".helper").html(c.message).addClass("bg-danger")}}}),e.text("Please, wait"),e.prop("disabled",!0),!1},generatePassword:function(){var b=a(this).attr("href"),c=a(this).parents(".container").find(".modal"),d=a(".modal-header",c);return a.ajax({url:b,method:"GET",success:function(b){var e=a('<div class="modal-body"><p>'+b+"</p><p>Please, save this password!</p></div>");e.insertAfter(d),d.html("<h4>Your Password</h4>"),c.modal("show"),c.on("hide.bs.modal",function(){a(".modal-body").remove(),c.off("hide.bs.modal")})}}),!1},cancelAccount:function(){var b=a(this).attr("href");return a.ajax({url:b,method:"GET",statusCode:{401:function(){a(".modal .modal-title").text("You should be authorized");a(".modal").modal("show")}},success:function(b){a(b).appendTo(".content").modal("show")}}),!1},restrict:function(){var b=a(this).attr("href");return a.ajax({url:b,method:"GET",statusCode:{401:function(){a(".modal .modal-title").text("You should be authorized");a(".modal").modal("show")}},success:function(){window.location.href=b}}),!1}};b.init()}(jQuery),function(a){"use strict";var b={init:function(){this.addListeners()},addListeners:function(){a(document).on("click",'a[data-action="delete"]',this.remove),a('[data-action="add-to-wishlist"]').on("click",this.addToWishlist),a('[data-action="add-to-basket"]').on("click",this.addToBasket),a(".currency-switcher").on("click","a",this.switchCurrency)},remove:function(){var b=a(this).attr("href");return a.ajax({method:"DELETE",url:b,success:function(a){a?location.replace(a):location.reload()},statusCode:{404:function(b){var c=JSON.parse(b.responseText);a(".modal .modal-title").text(c.message);a(".modal").modal("show")}},complete:function(){a(this).removeClass("disabled")}}),a(this).addClass("disabled"),!1},addToWishlist:function(){var b=a(this).attr("href");return a.ajax({url:b,method:"POST",success:function(b){a(".modal .modal-title").text(b);a(".modal").modal("show")},statusCode:{401:function(){a(".modal .modal-title").text("You should be authorized");a(".modal").modal("show")},403:function(){a(".modal .modal-title").text("This Item is already in Your wishlist");a(".modal").modal("show")}},complete:function(){a(this).removeClass("disabled")}}),a(this).addClass("disabled"),!1},switchCurrency:function(){var b=a(this).attr("href");return a.ajax({method:"GET",url:b,success:function(){location.reload()}}),!1},addToBasket:function(){var b,c=a(this).attr("href"),d=a(this).closest("div").find(":input").val(),e=a(this);return b=d?d.slice(9):1,a.ajax({url:c,method:"POST",data:{qty:b},success:function(c){var d=(a(".modal .modal-title").text(c),a(".items a i"));a(".modal").modal("show"),d.text(+d.text()+ +b)},statusCode:{401:function(){a(".modal .modal-title").text("You should be authorized");a(".modal").modal("show")}},complete:function(){e.removeClass("disabled")}}),e.addClass("disabled"),!1}};b.init()}(jQuery),function(a){"use strict";var b={init:function(){this.addListeners()},addListeners:function(){a('[data-action="checkout"]').on("click",this.checkout),a(document).on("submit",".checkout form",this.onSubmit),a("[name=discount]").on("keyup",this.onKeyup),a(".update-basket").on("click","a",this.update)},checkout:function(){var b=a(this).attr("href");return a.ajax({url:b,method:"GET",success:function(b){a(b).appendTo(a(".content"))}}),a('[data-action="checkout"]').addClass("disabled"),!1},onSubmit:function(){var b=a(this),c=b.attr("action"),d=a(".helper");d.html("").removeClass("bg-danger bg-success"),b.on("keypress","input, textarea",function(){a(this).tooltip("destroy"),a(this).closest("div").removeClass("has-errors")});var e,f=b.find("input:not(:hidden), textarea"),g=f.length;for(e=0;g>e;e++){var h=f[e];if(!a.validate(h))return!1}return a(".cart :input, [name=discount]").clone().appendTo(a(this)).css({display:"none"}),a.ajax({url:c,method:"POST",data:b.serialize(),success:function(){location.reload()},statusCode:{404:function(){d.html("Card Not Found").addClass("bg-danger")},403:function(a){d.html(error).addClass("bg-danger")}},complete:function(){a(":hidden",b).remove()}}),!1},onKeyup:function(){a(".update-basket a").removeClass("disabled"),""===a(this).val()&&a(".update-basket a").addClass("disabled")},update:function(){var b=a("[name=discount]").val(),c=a(".helper"),d=a(this);return a.ajax({url:"/cart/update",method:"POST",data:{number:b},success:function(b){var c=a(".total-order .pr"),d=c.text()-c.text()*b/100;c.text(d.toFixed(2))},statusCode:{404:function(){c.html("Card not found").addClass("bg-danger")}},complete:function(){d.addClass("disabled")}}),!1}};b.init()}(jQuery);